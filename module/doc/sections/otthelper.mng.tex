% Hack to use mathpartir for ott
\newcommand{\ottlinebreak}{}
\renewcommand{\ottdrule}[4][]{{\inferrule{#2 }{#3}\quad\ottdrulename{#4}}}
\renewcommand{\ottrulehead}[3]{ $#1$  & $#2$ &  & \multicolumn{2}{l}{#3}}
\renewcommand{\ottprodline}[6]{& $#1$ & $#2$ & $#5$ & $#6$}
\renewcommand{\ottgrammartabular}[1]{\begin{tabular}{lclllll}#1\end{tabular}}
\renewcommand{\ottinterrule}{\\[2.0mm]}
\newcommand{\gram}[1]{\ottgrammartabular{#1\ottafterlastrule}}
\newcommand{\ruleref}[1]{\ottdrulename{#1}}

\newcommand{\castup}{$[[castup]]$\xspace}
\newcommand{\castdown}{$[[castdown]]$\xspace}
\newcommand{\cast}{cast\xspace}

\newcommand{\lam}[3]{[[\]] #1:#2.\,#3}
\newcommand{\pai}[3]{[[Pi]] #1:#2.\,#3}
\newcommand{\miu}[3]{[[mu]] #1:#2.\,#3}

\newcommand{\FV}{\mathsf{FV}}
\newcommand{\dom}{\mathsf{dom}}

\newcommand*{\mathscale}[2][4]{\scalebox{#1}{$#2$}}%

\def\replace#1#2#3{%
 \def\tmp##1#2{##1#3\tmp}%
   \tmp#1\stopreplace#2\stopreplace}
\def\stopreplace#1\stopreplace{}
