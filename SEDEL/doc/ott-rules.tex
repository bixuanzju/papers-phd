% generated by Ott 0.28 from: ../spec/syntax.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{var} ,\, \ottmv{x} ,\, \ottmv{y} ,\, \alpha ,\, \beta ,\, \ottmv{l} ,\, \ottmv{f} ,\, t ,\, \ottmv{m} ,\, \mathsf{super} ,\, \mathsf{self} $ & \ottcom{variables} \\
 $ \ottmv{i} ,\, \ottmv{j} ,\, \ottmv{k} ,\, \ottmv{n} ,\, \ottmv{m} $ & \ottcom{Index variables} \\
}}

\newcommand{\ottpgm}{
\ottrulehead{\ottnt{pgm}}{::=}{\ottcom{Program}}\ottprodnewline
\ottfirstprodline{|}{\ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{decl}  \ottsym{;}  \ottnt{pgm}}{}{}{}{}}

\newcommand{\ottdecl}{
\ottrulehead{\ottnt{decl}}{::=}{\ottcom{Declaration}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{def} \, \ottmv{f}  \ottsym{(}  \ottmv{x}  \ottsym{:}  \ottnt{A}  \ottsym{)}  \ottsym{:}  \ottnt{B}  \ottsym{=}  \ottnt{E}}{}{}{}{\ottcom{Term Declaration}}\ottprodnewline
\ottprodline{|}{\ottkw{typ} \, t  \ottsym{=}  \ottnt{A}}{}{}{}{\ottcom{Type Declaration}}}

\newcommand{\ottE}{
\ottrulehead{\ottnt{E}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\top}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{i}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbb{B}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  .\,  \ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}} \, \ottnt{E_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \,,,\,  \ottnt{E_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Lambda \, \ottsym{(}  \alpha  *  \ottnt{A}  \ottsym{)}  .\,  \ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E} \, \ottnt{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l}  \ottsym{=}  \ottnt{E}  \ottsym{\}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}  .\,  \ottmv{l}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{letrec} \, \ottmv{x}  \ottsym{:}  \ottnt{A}  \ottsym{=}  \ottnt{E_{{\mathrm{1}}}} \, \ottkw{in} \, \ottnt{E_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{new} \, \ottsym{[}  \ottnt{A}  \ottsym{]}  \ottsym{(} \, \ottcomp{\ottnt{E_{\ottmv{i}}}}{\ottmv{i}} \, \ottsym{)}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}  \ottsym{:}  \ottnt{A}}{}{}{}{\ottcom{Anno}}\ottprodnewline
\ottprodline{|}{\ottnt{E}  \,\backslash\,  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{A}  \ottsym{\}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{trait} \, \ottsym{[}  \mathsf{self}  \ottsym{:}  \ottnt{B}  \ottsym{]} \, \ottkw{inherits} \, \ottcomp{\ottnt{E_{\ottmv{i}}}}{\ottmv{i}} \, \ottsym{\{} \, \ottcomp{\ottmv{l_{\ottmv{j}}}  \ottsym{=}  \ottnt{E'_{\ottmv{j}}}}{\ottmv{j}} \, \ottsym{\}}  \ottsym{:}  \ottnt{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{trait} \, \ottmv{x}  \ottsym{\{} \, \ottcomp{\ottmv{l_{\ottmv{i}}}  \ottsym{=}  \ottnt{E_{\ottmv{i}}}}{\ottmv{i}} \, \ottsym{\}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{if} \, \ottnt{E_{{\mathrm{1}}}} \, \ottkw{then} \, \ottnt{E_{{\mathrm{2}}}} \, \ottkw{else} \, \ottnt{E_{{\mathrm{3}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{+}  \ottnt{E_{{\mathrm{2}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{-}  \ottnt{E_{{\mathrm{2}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \times  \ottnt{E_{{\mathrm{2}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \div  \ottnt{E_{{\mathrm{2}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{==}  \ottnt{E_{{\mathrm{2}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{/=}  \ottnt{E_{{\mathrm{2}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{<}  \ottnt{E_{{\mathrm{2}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{>}  \ottnt{E_{{\mathrm{2}}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{E_{{\mathrm{1}}}}  \textasciicircum\,  \ottnt{E_{{\mathrm{2}}}} } {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l_{{\mathrm{1}}}}  \ottsym{=}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{,} \, ... \, \ottsym{,}  \ottmv{l_{\ottmv{n}}}  \ottsym{=}  \ottnt{E_{\ottmv{n}}}  \ottsym{\}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l_{{\mathrm{1}}}}  \ottsym{=}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{\}}  \,,,\, \, ... \, \,,,\,  \ottsym{\{}  \ottmv{l_{\ottmv{n}}}  \ottsym{=}  \ottnt{E_{\ottmv{n}}}  \ottsym{\}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{E}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottA}{
\ottrulehead{\ottnt{A}  ,\ \ottnt{B}  ,\ \ottnt{C}}{::=}{\ottcom{Type}}\ottprodnewline
\ottfirstprodline{|}{\top}{}{}{}{\ottcom{Arith}}\ottprodnewline
\ottprodline{|}{\mathsf{Int}}{}{}{}{\ottcom{Int}}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \rightarrow  \ottnt{B}}{}{}{}{\ottcom{Arrow}}\ottprodnewline
\ottprodline{|}{\ottnt{A}  \,\&\,  \ottnt{B}}{}{}{}{\ottcom{And}}\ottprodnewline
\ottprodline{|}{\alpha}{}{}{}{\ottcom{Var}}\ottprodnewline
\ottprodline{|}{\forall \, \ottsym{(}  \alpha  *  \ottnt{A}  \ottsym{)}  .\,  \ottnt{B}}{}{}{}{\ottcom{Forall}}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{A}  \ottsym{\}}}{}{}{}{\ottcom{Record}}\ottprodnewline
\ottprodline{|}{\ottkw{Trait} \, \ottsym{[}  \ottnt{A}  \ottsym{,}  \ottnt{B}  \ottsym{]}}{}{}{}{\ottcom{Trait Type}}\ottprodnewline
\ottprodline{|}{\ottkw{Trait} \, \ottsym{[}  \ottnt{B}  \ottsym{]}}{}{}{}{\ottcom{Trait Type}}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{,} \, ... \, \ottsym{,}  \ottmv{l_{\ottmv{n}}}  \ottsym{:}  \ottnt{A_{\ottmv{n}}}  \ottsym{\}}} {\textsf{S}}{}{}{\ottcom{Records}}\ottprodnewline
\ottprodline{|}{\ottnt{A_{{\mathrm{1}}}}  \,\&\, \, ... \, \,\&\,  \ottnt{A_{\ottmv{n}}}} {\textsf{S}}{}{}{\ottcom{And2}}\ottprodnewline
\ottprodline{|}{\ottkw{Bool}} {\textsf{S}}{}{}{\ottcom{Bool}}\ottprodnewline
\ottprodline{|}{\ottkw{Char}} {\textsf{S}}{}{}{\ottcom{Char}}\ottprodnewline
\ottprodline{|}{\mathsf{String}} {\textsf{S}}{}{}{\ottcom{String}}}

\newcommand{\ottctx}{
\ottrulehead{\ottnt{ctx}  ,\ \Gamma}{::=}{\ottcom{Contexts}}\ottprodnewline
\ottfirstprodline{|}{\bullet}{}{}{}{\ottcom{empty}}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}}{}{}{}{\ottcom{cons1}}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \alpha  *  \ottnt{A}}{}{}{}{\ottcom{cons2}}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \ottmv{x_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottmv{x_{\ottmv{n}}}  \ottsym{:}  \ottnt{A_{\ottmv{n}}}  \ottsym{,}  \mathsf{self}  \ottsym{:}  \ottnt{B}} {\textsf{S}}{}{}{\ottcom{ctx}}}

\newcommand{\ottjpgm}{
\ottrulehead{pgm}{::=}{\ottcom{Program}}\ottprodnewline
\ottfirstprodline{|}{decl_{{\mathrm{1}}} \, .. \, decl_{\ottmv{n}} \, \ottnt{e}}{}{}{}{}}

\newcommand{\ottjdecl}{
\ottrulehead{decl}{::=}{\ottcom{Top-level function}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{function} \, \ottmv{f}  \ottsym{(}  \ottmv{x}  \ottsym{:}  \tau  \ottsym{)}  \ottsym{\{}  \ottnt{e}  \ottsym{\}}}{}{}{}{}}

\newcommand{\otte}{
\ottrulehead{\ottnt{e}}{::=}{\ottcom{Terms}}\ottprodnewline
\ottfirstprodline{|}{\top}{}{}{}{\ottcom{Top}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \ottsym{+}  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Add}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \ottsym{-}  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Sub}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \times  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Mult}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \div  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Division}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \ottsym{==}  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Equality}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \ottsym{<}  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Comparison}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \,\&\&\,  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{And}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \,||\,  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Or}}\ottprodnewline
\ottprodline{|}{\ottkw{if} \, \ottnt{e_{{\mathrm{1}}}} \, \ottkw{then} \, \ottnt{e_{{\mathrm{2}}}} \, \ottkw{else} \, \ottnt{e_{{\mathrm{3}}}}}{}{}{}{\ottcom{Conditional}}\ottprodnewline
\ottprodline{|}{\ottmv{var} \, \ottmv{x}  \ottsym{=}  \ottnt{e_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Local Def}}\ottprodnewline
\ottprodline{|}{\ottmv{x}}{}{}{}{\ottcom{Variable}}\ottprodnewline
\ottprodline{|}{i}{}{}{}{\ottcom{Literal}}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  .\,  \ottnt{e}}{}{}{}{\ottcom{Abstraction}}\ottprodnewline
\ottprodline{|}{\\ \lambda \, \ottsym{(}  \ottmv{x}  \ottsym{:}  \tau  \ottsym{)}  .\,  \ottnt{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda  \ottsym{(}  \ottmv{x}  \ottsym{:}  \tau  \ottsym{)}  .\,  \ottnt{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Application}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \,,,\,  \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Merge}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}}  \,,,\, \, ... \, \,,,\,  \ottnt{e_{\ottmv{n}}}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{\Lambda \, \ottsym{(}  \alpha  *  \tau  \ottsym{)}  .\,  \ottnt{e}}{}{}{}{\ottcom{BLam}}\ottprodnewline
\ottprodline{|}{\ottnt{e} \, \tau}{}{}{}{\ottcom{TApp}}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l}  \ottsym{=}  \ottnt{e}  \ottsym{\}}}{}{}{}{\ottcom{Record}}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l_{{\mathrm{1}}}}  \ottsym{=}  \ottnt{e_{{\mathrm{1}}}}  \ottsym{,} \, ... \, \ottsym{,}  \ottmv{l_{\ottmv{n}}}  \ottsym{=}  \ottnt{e_{\ottmv{n}}}  \ottsym{\}}} {\textsf{S}}{}{}{\ottcom{Records}}\ottprodnewline
\ottprodline{|}{\ottnt{e}  .\,  \ottmv{l}}{}{}{}{\ottcom{Projection}}\ottprodnewline
\ottprodline{|}{\ottkw{letrec} \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{=}  \ottnt{e_{{\mathrm{1}}}} \, \ottkw{in} \, \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Let binding}}\ottprodnewline
\ottprodline{|}{\ottkw{let} \, \ottmv{x}  \ottsym{=}  \ottnt{e_{{\mathrm{1}}}} \, \ottkw{in} \, \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Let binding}}\ottprodnewline
\ottprodline{|}{\ottnt{e}  \ottsym{:}  \tau}{}{}{}{\ottcom{Anno}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{e}  \ottsym{)}} {\textsf{S}}{}{}{\ottcom{Pren}}}

\newcommand{\ottt}{
\ottrulehead{\tau  ,\ \sigma}{::=}{\ottcom{Type}}\ottprodnewline
\ottfirstprodline{|}{\top}{}{}{}{\ottcom{Arith}}\ottprodnewline
\ottprodline{|}{\mathsf{Int}}{}{}{}{\ottcom{Int}}\ottprodnewline
\ottprodline{|}{\tau  \rightarrow  \sigma}{}{}{}{\ottcom{Arrow}}\ottprodnewline
\ottprodline{|}{\tau  \,\&\,  \sigma}{}{}{}{\ottcom{And}}\ottprodnewline
\ottprodline{|}{\tau_{{\mathrm{1}}}  \,\&\, \, ... \, \,\&\,  \tau_{\ottmv{n}}} {\textsf{S}}{}{}{\ottcom{And2}}\ottprodnewline
\ottprodline{|}{\alpha}{}{}{}{\ottcom{Var}}\ottprodnewline
\ottprodline{|}{\forall \, \ottsym{(}  \alpha  *  \tau  \ottsym{)}  .\,  \sigma}{}{}{}{\ottcom{Forall}}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l_{{\mathrm{1}}}}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{,} \, ... \, \ottsym{,}  \ottmv{l_{\ottmv{n}}}  \ottsym{:}  \tau_{\ottmv{n}}  \ottsym{\}}} {\textsf{S}}{}{}{\ottcom{Records}}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \ottmv{l}  \ottsym{:}  \tau  \ottsym{\}}}{}{}{}{\ottcom{Record}}\ottprodnewline
\ottprodline{|}{\ottsym{\mbox{$\mid$}}  \ottnt{A}  \ottsym{\mbox{$\mid$}}} {\textsf{S}}{}{}{}}

\newcommand{\otttctx}{
\ottrulehead{\ottnt{tctx}  ,\ \Delta}{::=}{\ottcom{Kind contexts}}\ottprodnewline
\ottfirstprodline{|}{\bullet}{}{}{}{\ottcom{empty}}\ottprodnewline
\ottprodline{|}{\Delta  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau}{}{}{}{\ottcom{cons}}\ottprodnewline
\ottprodline{|}{\Delta  \ottsym{,}  \alpha  *  \tau}{}{}{}{\ottcom{cons2}}\ottprodnewline
\ottprodline{|}{\Delta  \ottsym{,}  \ottmv{x_{{\mathrm{1}}}}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottmv{x_{\ottmv{n}}}  \ottsym{:}  \tau_{\ottmv{n}}  \ottsym{,}  \mathsf{self}  \ottsym{:}  \tau} {\textsf{S}}{}{}{\ottcom{ctx}}\ottprodnewline
\ottprodline{|}{\ottsym{\mbox{$\mid$}}  \Gamma  \ottsym{\mbox{$\mid$}}} {\textsf{S}}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottpgm\ottinterrule
\ottdecl\ottinterrule
\ottE\ottinterrule
\ottA\ottinterrule
\ottctx\ottinterrule
\ottjpgm\ottinterrule
\ottjdecl\ottinterrule
\otte\ottinterrule
\ottt\ottinterrule
\otttctx\ottafterlastrule
}}

% defnss
% defns JWF
%% defn WF
\newcommand{\ottdruleWFXXtop}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \top}{%
{\ottdrulename{WF\_top}}{}%
}}


\newcommand{\ottdruleWFXXint}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \mathsf{Int}}{%
{\ottdrulename{WF\_int}}{}%
}}


\newcommand{\ottdruleWFXXarrow}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}}%
\ottpremise{\Gamma  \vdash  \ottnt{B}}%
}{
\Gamma  \vdash  \ottnt{A}  \rightarrow  \ottnt{B}}{%
{\ottdrulename{WF\_arrow}}{}%
}}


\newcommand{\ottdruleWFXXrecord}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}}%
}{
\Gamma  \vdash  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{A}  \ottsym{\}}}{%
{\ottdrulename{WF\_record}}{}%
}}


\newcommand{\ottdruleWFXXvar}[1]{\ottdrule[#1]{%
\ottpremise{ \alpha   *   \ottnt{A}  \in  \Gamma }%
}{
\Gamma  \vdash  \alpha}{%
{\ottdrulename{WF\_var}}{}%
}}


\newcommand{\ottdruleWFXXand}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}}%
\ottpremise{\Gamma  \vdash  \ottnt{B}}%
\ottpremise{\Gamma  \vdash  \ottnt{A}  *  \ottnt{B}}%
}{
\Gamma  \vdash  \ottnt{A}  \,\&\,  \ottnt{B}}{%
{\ottdrulename{WF\_and}}{}%
}}


\newcommand{\ottdruleWFXXforall}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}}%
\ottpremise{\Gamma  \ottsym{,}  \alpha  *  \ottnt{A}  \vdash  \ottnt{B}}%
}{
\Gamma  \vdash  \forall \, \ottsym{(}  \alpha  *  \ottnt{A}  \ottsym{)}  .\,  \ottnt{B}}{%
{\ottdrulename{WF\_forall}}{}%
}}


\newcommand{\ottdruleWFXXtrait}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}}%
\ottpremise{\Gamma  \vdash  \ottnt{B}}%
}{
\Gamma  \vdash  \ottkw{Trait} \, \ottsym{[}  \ottnt{A}  \ottsym{,}  \ottnt{B}  \ottsym{]}}{%
{\ottdrulename{WF\_trait}}{}%
}}

\newcommand{\ottdefnWF}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{A}$}{}
\ottusedrule{\ottdruleWFXXtop{}}
\ottusedrule{\ottdruleWFXXint{}}
\ottusedrule{\ottdruleWFXXarrow{}}
\ottusedrule{\ottdruleWFXXrecord{}}
\ottusedrule{\ottdruleWFXXvar{}}
\ottusedrule{\ottdruleWFXXand{}}
\ottusedrule{\ottdruleWFXXforall{}}
\ottusedrule{\ottdruleWFXXtrait{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsJWF}{
\ottdefnWF{}}

% defns Disjoint
%% defn disjoint
\newcommand{\ottdruleDXXtop}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \top  *  \ottnt{A}}{%
{\ottdrulename{D\_top}}{}%
}}


\newcommand{\ottdruleDXXtopSym}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \ottnt{A}  *  \top}{%
{\ottdrulename{D\_topSym}}{}%
}}


\newcommand{\ottdruleDXXvar}[1]{\ottdrule[#1]{%
\ottpremise{ \alpha   *   \ottnt{A}  \in  \Gamma }%
\ottpremise{\ottnt{A}  \ottsym{<:}  \ottnt{B}}%
}{
\Gamma  \vdash  \alpha  *  \ottnt{B}}{%
{\ottdrulename{D\_var}}{}%
}}


\newcommand{\ottdruleDXXvarSym}[1]{\ottdrule[#1]{%
\ottpremise{ \alpha   *   \ottnt{A}  \in  \Gamma }%
\ottpremise{\ottnt{A}  \ottsym{<:}  \ottnt{B}}%
}{
\Gamma  \vdash  \ottnt{B}  *  \alpha}{%
{\ottdrulename{D\_varSym}}{}%
}}


\newcommand{\ottdruleDXXforall}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \alpha  *  \ottnt{A_{{\mathrm{1}}}}  \,\&\,  \ottnt{A_{{\mathrm{2}}}}  \vdash  \ottnt{B}  *  \ottnt{C}}%
}{
\Gamma  \vdash  \forall \, \ottsym{(}  \alpha  *  \ottnt{A_{{\mathrm{1}}}}  \ottsym{)}  .\,  \ottnt{B}  *  \forall \, \ottsym{(}  \alpha  *  \ottnt{A_{{\mathrm{2}}}}  \ottsym{)}  .\,  \ottnt{C}}{%
{\ottdrulename{D\_forall}}{}%
}}


\newcommand{\ottdruleDXXrec}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}  *  \ottnt{B}}%
}{
\Gamma  \vdash  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{A}  \ottsym{\}}  *  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{B}  \ottsym{\}}}{%
{\ottdrulename{D\_rec}}{}%
}}


\newcommand{\ottdruleDXXrecn}[1]{\ottdrule[#1]{%
\ottpremise{ \ottmv{l_{{\mathrm{1}}}}  \neq  \ottmv{l_{{\mathrm{2}}}} }%
}{
\Gamma  \vdash  \ottsym{\{}  \ottmv{l_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A}  \ottsym{\}}  *  \ottsym{\{}  \ottmv{l_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{B}  \ottsym{\}}}{%
{\ottdrulename{D\_recn}}{}%
}}


\newcommand{\ottdruleDXXarrow}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A_{{\mathrm{2}}}}  *  \ottnt{B_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  *  \ottnt{B_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulename{D\_arrow}}{}%
}}


\newcommand{\ottdruleDXXandL}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A_{{\mathrm{1}}}}  *  \ottnt{B}}%
\ottpremise{\Gamma  \vdash  \ottnt{A_{{\mathrm{2}}}}  *  \ottnt{B}}%
}{
\Gamma  \vdash  \ottnt{A_{{\mathrm{1}}}}  \,\&\,  \ottnt{A_{{\mathrm{2}}}}  *  \ottnt{B}}{%
{\ottdrulename{D\_andL}}{}%
}}


\newcommand{\ottdruleDXXandR}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}  *  \ottnt{B_{{\mathrm{1}}}}}%
\ottpremise{\Gamma  \vdash  \ottnt{A}  *  \ottnt{B_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash  \ottnt{A}  *  \ottnt{B_{{\mathrm{1}}}}  \,\&\,  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulename{D\_andR}}{}%
}}


\newcommand{\ottdruleDXXax}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{A}  *_{ax}  \ottnt{B}}%
}{
\Gamma  \vdash  \ottnt{A}  *  \ottnt{B}}{%
{\ottdrulename{D\_ax}}{}%
}}


\newcommand{\ottdruleDXXtrait}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A_{{\mathrm{2}}}}  *  \ottnt{B_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash  \ottkw{Trait} \, \ottsym{[}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{A_{{\mathrm{2}}}}  \ottsym{]}  *  \ottkw{Trait} \, \ottsym{[}  \ottnt{B_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{B_{{\mathrm{2}}}}  \ottsym{]}}{%
{\ottdrulename{D\_trait}}{}%
}}


\newcommand{\ottdruleDXXtraitArrOne}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A_{{\mathrm{2}}}}  *  \ottnt{B_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash  \ottkw{Trait} \, \ottsym{[}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{A_{{\mathrm{2}}}}  \ottsym{]}  *  \ottnt{B_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulename{D\_traitArr1}}{}%
}}


\newcommand{\ottdruleDXXtraitArrTwo}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A_{{\mathrm{2}}}}  *  \ottnt{B_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  *  \ottkw{Trait} \, \ottsym{[}  \ottnt{B_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{B_{{\mathrm{2}}}}  \ottsym{]}}{%
{\ottdrulename{D\_traitArr2}}{}%
}}

\newcommand{\ottdefndisjoint}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{A}  *  \ottnt{B}$}{\ottcom{Disjointness}}
\ottusedrule{\ottdruleDXXtop{}}
\ottusedrule{\ottdruleDXXtopSym{}}
\ottusedrule{\ottdruleDXXvar{}}
\ottusedrule{\ottdruleDXXvarSym{}}
\ottusedrule{\ottdruleDXXforall{}}
\ottusedrule{\ottdruleDXXrec{}}
\ottusedrule{\ottdruleDXXrecn{}}
\ottusedrule{\ottdruleDXXarrow{}}
\ottusedrule{\ottdruleDXXandL{}}
\ottusedrule{\ottdruleDXXandR{}}
\ottusedrule{\ottdruleDXXax{}}
\ottusedrule{\ottdruleDXXtrait{}}
\ottusedrule{\ottdruleDXXtraitArrOne{}}
\ottusedrule{\ottdruleDXXtraitArrTwo{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsDisjoint}{
\ottdefndisjoint{}}

% defns Dis
%% defn dis
\newcommand{\ottdruleDaxXXsym}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{B}  *_{ax}  \ottnt{A}}%
}{
\ottnt{A}  *_{ax}  \ottnt{B}}{%
{\ottdrulename{Dax\_sym}}{}%
}}


\newcommand{\ottdruleDaxXXintArr}[1]{\ottdrule[#1]{%
}{
\mathsf{Int}  *_{ax}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulename{Dax\_intArr}}{}%
}}


\newcommand{\ottdruleDaxXXintRec}[1]{\ottdrule[#1]{%
}{
\mathsf{Int}  *_{ax}  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{A}  \ottsym{\}}}{%
{\ottdrulename{Dax\_intRec}}{}%
}}


\newcommand{\ottdruleDaxXXintForall}[1]{\ottdrule[#1]{%
}{
\mathsf{Int}  *_{ax}  \forall \, \ottsym{(}  \alpha  *  \ottnt{B_{{\mathrm{1}}}}  \ottsym{)}  .\,  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulename{Dax\_intForall}}{}%
}}


\newcommand{\ottdruleDaxXXintTrait}[1]{\ottdrule[#1]{%
}{
\mathsf{Int}  *_{ax}  \ottkw{Trait} \, \ottsym{[}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{A_{{\mathrm{2}}}}  \ottsym{]}}{%
{\ottdrulename{Dax\_intTrait}}{}%
}}


\newcommand{\ottdruleDaxXXarrForall}[1]{\ottdrule[#1]{%
}{
\ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  *_{ax}  \forall \, \ottsym{(}  \alpha  *  \ottnt{B_{{\mathrm{1}}}}  \ottsym{)}  .\,  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulename{Dax\_arrForall}}{}%
}}


\newcommand{\ottdruleDaxXXarrRec}[1]{\ottdrule[#1]{%
}{
\ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  *_{ax}  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{B}  \ottsym{\}}}{%
{\ottdrulename{Dax\_arrRec}}{}%
}}


\newcommand{\ottdruleDaxXXtraitForall}[1]{\ottdrule[#1]{%
}{
\ottkw{Trait} \, \ottsym{[}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{A_{{\mathrm{2}}}}  \ottsym{]}  *_{ax}  \forall \, \ottsym{(}  \alpha  *  \ottnt{B_{{\mathrm{1}}}}  \ottsym{)}  .\,  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulename{Dax\_traitForall}}{}%
}}


\newcommand{\ottdruleDaxXXtraitRec}[1]{\ottdrule[#1]{%
}{
\ottkw{Trait} \, \ottsym{[}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{A_{{\mathrm{2}}}}  \ottsym{]}  *_{ax}  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{B}  \ottsym{\}}}{%
{\ottdrulename{Dax\_traitRec}}{}%
}}


\newcommand{\ottdruleDaxXXforallRec}[1]{\ottdrule[#1]{%
}{
\forall \, \ottsym{(}  \alpha  *  \ottnt{A_{{\mathrm{1}}}}  \ottsym{)}  .\,  \ottnt{A_{{\mathrm{2}}}}  *_{ax}  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{B}  \ottsym{\}}}{%
{\ottdrulename{Dax\_forallRec}}{}%
}}

\newcommand{\ottdefndis}[1]{\begin{ottdefnblock}[#1]{$\ottnt{A}  *_{ax}  \ottnt{B}$}{}
\ottusedrule{\ottdruleDaxXXsym{}}
\ottusedrule{\ottdruleDaxXXintArr{}}
\ottusedrule{\ottdruleDaxXXintRec{}}
\ottusedrule{\ottdruleDaxXXintForall{}}
\ottusedrule{\ottdruleDaxXXintTrait{}}
\ottusedrule{\ottdruleDaxXXarrForall{}}
\ottusedrule{\ottdruleDaxXXarrRec{}}
\ottusedrule{\ottdruleDaxXXtraitForall{}}
\ottusedrule{\ottdruleDaxXXtraitRec{}}
\ottusedrule{\ottdruleDaxXXforallRec{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsDis}{
\ottdefndis{}}

% defns Subtyping
%% defn subtyping
\newcommand{\ottdruleSubXXtop}[1]{\ottdrule[#1]{%
}{
\ottnt{A}  \ottsym{<:}  \top}{%
{\ottdrulename{Sub\_top}}{}%
}}


\newcommand{\ottdruleSubXXandR}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{A_{{\mathrm{1}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{2}}}}}%
\ottpremise{\ottnt{A_{{\mathrm{1}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{3}}}}}%
}{
\ottnt{A_{{\mathrm{1}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{2}}}}  \,\&\,  \ottnt{A_{{\mathrm{3}}}}}{%
{\ottdrulename{Sub\_andR}}{}%
}}


\newcommand{\ottdruleSubXXint}[1]{\ottdrule[#1]{%
}{
\mathsf{Int}  \ottsym{<:}  \mathsf{Int}}{%
{\ottdrulename{Sub\_int}}{}%
}}


\newcommand{\ottdruleSubXXandLOne}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{A_{{\mathrm{1}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{3}}}}}%
\ottpremise{ \ottnt{A_{{\mathrm{3}}}} \, \mathsf{ordinary} }%
}{
\ottnt{A_{{\mathrm{1}}}}  \,\&\,  \ottnt{A_{{\mathrm{2}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{3}}}}}{%
{\ottdrulename{Sub\_andL1}}{}%
}}


\newcommand{\ottdruleSubXXandLTwo}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{A_{{\mathrm{2}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{3}}}}}%
\ottpremise{ \ottnt{A_{{\mathrm{3}}}} \, \mathsf{ordinary} }%
}{
\ottnt{A_{{\mathrm{1}}}}  \,\&\,  \ottnt{A_{{\mathrm{2}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{3}}}}}{%
{\ottdrulename{Sub\_andL2}}{}%
}}


\newcommand{\ottdruleSubXXrec}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{A}  \ottsym{<:}  \ottnt{B}}%
}{
\ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{A}  \ottsym{\}}  \ottsym{<:}  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{B}  \ottsym{\}}}{%
{\ottdrulename{Sub\_rec}}{}%
}}


\newcommand{\ottdruleSubXXvar}[1]{\ottdrule[#1]{%
}{
\alpha  \ottsym{<:}  \alpha}{%
{\ottdrulename{Sub\_var}}{}%
}}


\newcommand{\ottdruleSubXXarr}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{B_{{\mathrm{1}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{1}}}}}%
\ottpremise{\ottnt{A_{{\mathrm{2}}}}  \ottsym{<:}  \ottnt{B_{{\mathrm{2}}}}}%
}{
\ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  \ottsym{<:}  \ottnt{B_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulename{Sub\_arr}}{}%
}}


\newcommand{\ottdruleSubXXforall}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{B_{{\mathrm{1}}}}  \ottsym{<:}  \ottnt{B_{{\mathrm{2}}}}}%
\ottpremise{\ottnt{A_{{\mathrm{2}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{1}}}}}%
}{
\forall \, \ottsym{(}  \alpha  *  \ottnt{A_{{\mathrm{1}}}}  \ottsym{)}  .\,  \ottnt{B_{{\mathrm{1}}}}  \ottsym{<:}  \forall \, \ottsym{(}  \alpha  *  \ottnt{A_{{\mathrm{2}}}}  \ottsym{)}  .\,  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulename{Sub\_forall}}{}%
}}


\newcommand{\ottdruleSubXXtrait}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{B_{{\mathrm{1}}}}  \ottsym{<:}  \ottnt{A_{{\mathrm{1}}}}}%
\ottpremise{\ottnt{A_{{\mathrm{2}}}}  \ottsym{<:}  \ottnt{B_{{\mathrm{2}}}}}%
}{
\ottkw{Trait} \, \ottsym{[}  \ottnt{A_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{A_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{<:}  \ottkw{Trait} \, \ottsym{[}  \ottnt{B_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{B_{{\mathrm{2}}}}  \ottsym{]}}{%
{\ottdrulename{Sub\_trait}}{}%
}}

\newcommand{\ottdefnsubtyping}[1]{\begin{ottdefnblock}[#1]{$\ottnt{A}  \ottsym{<:}  \ottnt{B}$}{\ottcom{Subtyping}}
\ottusedrule{\ottdruleSubXXtop{}}
\ottusedrule{\ottdruleSubXXandR{}}
\ottusedrule{\ottdruleSubXXint{}}
\ottusedrule{\ottdruleSubXXandLOne{}}
\ottusedrule{\ottdruleSubXXandLTwo{}}
\ottusedrule{\ottdruleSubXXrec{}}
\ottusedrule{\ottdruleSubXXvar{}}
\ottusedrule{\ottdruleSubXXarr{}}
\ottusedrule{\ottdruleSubXXforall{}}
\ottusedrule{\ottdruleSubXXtrait{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsSubtyping}{
\ottdefnsubtyping{}}

% defns JSTyping
%% defn inf
\newcommand{\ottdruleInfXXtop}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \top  \Rightarrow  \top  \rightsquigarrow  \top}{%
{\ottdrulename{Inf\_top}}{}%
}}


\newcommand{\ottdruleInfXXint}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  i  \Rightarrow  \mathsf{Int}  \rightsquigarrow  i}{%
{\ottdrulename{Inf\_int}}{}%
}}


\newcommand{\ottdruleInfXXvar}[1]{\ottdrule[#1]{%
\ottpremise{ \ottmv{x}  :  \ottnt{A}  \in  \Gamma }%
}{
\Gamma  \vdash  \ottmv{x}  \Rightarrow  \ottnt{A}  \rightsquigarrow  \ottmv{x}}{%
{\ottdrulename{Inf\_var}}{}%
}}


\newcommand{\ottdruleInfXXanno}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{E}   \Leftarrow   \ottnt{A}  \rulehl{ \rightsquigarrow   \ottnt{e} } }%
}{
\Gamma  \vdash  \ottnt{E}  \ottsym{:}  \ottnt{A}  \Rightarrow  \ottnt{A}  \rightsquigarrow  \ottnt{e}  \ottsym{:}  \ottsym{\mbox{$\mid$}}  \ottnt{A}  \ottsym{\mbox{$\mid$}}}{%
{\ottdrulename{Inf\_anno}}{}%
}}


\newcommand{\ottdruleInfXXapp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{E_{{\mathrm{1}}}}  \Rightarrow  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{e_{{\mathrm{1}}}}}%
\ottpremise{ \Gamma   \vdash   \ottnt{E_{{\mathrm{2}}}}   \Leftarrow   \ottnt{A_{{\mathrm{1}}}}  \rulehl{ \rightsquigarrow   \ottnt{e_{{\mathrm{2}}}} } }%
}{
\Gamma  \vdash  \ottnt{E_{{\mathrm{1}}}} \, \ottnt{E_{{\mathrm{2}}}}  \Rightarrow  \ottnt{A_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{%
{\ottdrulename{Inf\_app}}{}%
}}


\newcommand{\ottdruleInfXXtapp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{E}  \Rightarrow  \forall \, \ottsym{(}  \alpha  *  \ottnt{B}  \ottsym{)}  .\,  \ottnt{C}  \rightsquigarrow  \ottnt{e}}%
\ottpremise{\Gamma  \vdash  \ottnt{A}}%
\ottpremise{\Gamma  \vdash  \ottnt{A}  *  \ottnt{B}}%
}{
\Gamma  \vdash  \ottnt{E} \, \ottnt{A}  \Rightarrow   [  \ottnt{A}  /  \alpha  ]  \ottnt{C}   \rightsquigarrow  \ottnt{e} \, \ottsym{\mbox{$\mid$}}  \ottnt{A}  \ottsym{\mbox{$\mid$}}}{%
{\ottdrulename{Inf\_tapp}}{}%
}}


\newcommand{\ottdruleInfXXmerge}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{E_{{\mathrm{1}}}}  \Rightarrow  \ottnt{A}  \rightsquigarrow  \ottnt{e_{{\mathrm{1}}}}}%
\ottpremise{\Gamma  \vdash  \ottnt{E_{{\mathrm{2}}}}  \Rightarrow  \ottnt{B}  \rightsquigarrow  \ottnt{e_{{\mathrm{2}}}}}%
\ottpremise{\Gamma  \vdash  \ottnt{A}  *  \ottnt{B}}%
}{
\Gamma  \vdash  \ottnt{E_{{\mathrm{1}}}}  \,,,\,  \ottnt{E_{{\mathrm{2}}}}  \Rightarrow  \ottnt{A}  \,\&\,  \ottnt{B}  \rightsquigarrow  \ottnt{e_{{\mathrm{1}}}}  \,,,\,  \ottnt{e_{{\mathrm{2}}}}}{%
{\ottdrulename{Inf\_merge}}{}%
}}


\newcommand{\ottdruleInfXXrec}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{E}  \Rightarrow  \ottnt{A}  \rightsquigarrow  \ottnt{e}}%
}{
\Gamma  \vdash  \ottsym{\{}  \ottmv{l}  \ottsym{=}  \ottnt{E}  \ottsym{\}}  \Rightarrow  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{A}  \ottsym{\}}  \rightsquigarrow  \ottsym{\{}  \ottmv{l}  \ottsym{=}  \ottnt{e}  \ottsym{\}}}{%
{\ottdrulename{Inf\_rec}}{}%
}}


\newcommand{\ottdruleInfXXproj}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{E}  \Rightarrow  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \ottnt{A}  \ottsym{\}}  \rightsquigarrow  \ottnt{e}}%
}{
\Gamma  \vdash  \ottnt{E}  .\,  \ottmv{l}  \Rightarrow  \ottnt{A}  \rightsquigarrow  \ottnt{e}  .\,  \ottmv{l}}{%
{\ottdrulename{Inf\_proj}}{}%
}}


\newcommand{\ottdruleInfXXblam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}}%
\ottpremise{\Gamma  \ottsym{,}  \alpha  *  \ottnt{A}  \vdash  \ottnt{E}  \Rightarrow  \ottnt{B}  \rightsquigarrow  \ottnt{e}}%
}{
\Gamma  \vdash  \Lambda \, \ottsym{(}  \alpha  *  \ottnt{A}  \ottsym{)}  .\,  \ottnt{E}  \Rightarrow  \forall \, \ottsym{(}  \alpha  *  \ottnt{A}  \ottsym{)}  .\,  \ottnt{B}  \rightsquigarrow  \Lambda \, \ottsym{(}  \alpha  *  \ottsym{\mbox{$\mid$}}  \ottnt{A}  \ottsym{\mbox{$\mid$}}  \ottsym{)}  .\,  \ottnt{e}}{%
{\ottdrulename{Inf\_blam}}{}%
}}


\newcommand{\ottdruleInfXXlete}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}   \vdash   \ottnt{E_{{\mathrm{1}}}}   \Leftarrow   \ottnt{A}  \rulehl{ \rightsquigarrow   \ottnt{e_{{\mathrm{1}}}} } }%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}  \vdash  \ottnt{E_{{\mathrm{2}}}}  \Rightarrow  \ottnt{B}  \rightsquigarrow  \ottnt{e_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash  \ottkw{letrec} \, \ottmv{x}  \ottsym{:}  \ottnt{A}  \ottsym{=}  \ottnt{E_{{\mathrm{1}}}} \, \ottkw{in} \, \ottnt{E_{{\mathrm{2}}}}  \Rightarrow  \ottnt{B}  \rightsquigarrow  \ottkw{letrec} \, \ottmv{x}  \ottsym{:}  \ottsym{\mbox{$\mid$}}  \ottnt{A}  \ottsym{\mbox{$\mid$}}  \ottsym{=}  \ottnt{e_{{\mathrm{1}}}} \, \ottkw{in} \, \ottnt{e_{{\mathrm{2}}}}}{%
{\ottdrulename{Inf\_lete}}{}%
}}


\newcommand{\ottdruleInfXXnew}[1]{\ottdrule[#1]{%
\ottpremise{ \overline{ \Gamma  \vdash  \ottnt{E_{\ottmv{i}}}  \Rightarrow  \ottkw{Trait} \, \ottsym{[}  \ottnt{A_{\ottmv{i}}}  \ottsym{,}  \ottnt{B_{\ottmv{i}}}  \ottsym{]}  \rightsquigarrow  \ottnt{e_{\ottmv{i}}} }^{i \in 1 .. n} }%
\ottpremise{ \overline{ \ottnt{A}  \ottsym{<:}  \ottnt{A_{\ottmv{i}}} }^{i \in 1 .. n} }%
\ottpremise{\Gamma  \vdash  \ottnt{B_{{\mathrm{1}}}}  \,\&\, \, .. \, \,\&\,  \ottnt{B_{\ottmv{n}}}}%
\ottpremise{\ottnt{B_{{\mathrm{1}}}}  \,\&\, \, .. \, \,\&\,  \ottnt{B_{\ottmv{n}}}  \ottsym{<:}  \ottnt{A}}%
}{
\Gamma  \vdash  \ottkw{new} \, \ottsym{[}  \ottnt{A}  \ottsym{]}  \ottsym{(} \, \ottcomplu{\ottnt{E_{\ottmv{i}}}}{\ottmv{i}}{{\mathrm{1}}}{..}{\ottmv{n}} \, \ottsym{)}  \Rightarrow  \ottnt{A}  \rightsquigarrow  \ottkw{letrec} \, \mathsf{self}  \ottsym{:}  \ottsym{\mbox{$\mid$}}  \ottnt{A}  \ottsym{\mbox{$\mid$}}  \ottsym{=}  \ottcomplu{\ottsym{(}  \ottnt{e_{\ottmv{i}}} \, \mathsf{self}  \ottsym{)}}{\ottmv{i}}{{\mathrm{1}}}{..}{\ottmv{n}} \, \ottkw{in} \, \mathsf{self}}{%
{\ottdrulename{Inf\_new}}{}%
}}


\newcommand{\ottdruleInfXXtrait}[1]{\ottdrule[#1]{%
\ottpremise{ \overline{ \Gamma  \ottsym{,}  \mathsf{self}  \ottsym{:}  \ottnt{B}  \vdash  \ottnt{E_{\ottmv{i}}}  \Rightarrow  \ottkw{Trait} \, \ottsym{[}  \ottnt{B_{\ottmv{i}}}  \ottsym{,}  \ottnt{C_{\ottmv{i}}}  \ottsym{]}  \rightsquigarrow  \ottnt{e_{\ottmv{i}}} }^{i \in 1 .. n} }%
\ottpremise{\Gamma  \ottsym{,}  \mathsf{self}  \ottsym{:}  \ottnt{B}  \vdash  \ottsym{\{} \, \ottcomplu{\ottmv{l_{\ottmv{j}}}  \ottsym{=}  \ottnt{E'_{\ottmv{j}}}}{\ottmv{j}}{{\mathrm{1}}}{..}{\ottmv{m}} \, \ottsym{\}}  \Rightarrow  \ottnt{C}  \rightsquigarrow  \ottnt{e}}%
\ottpremise{ \overline{ \ottnt{B}  \ottsym{<:}  \ottnt{B_{\ottmv{i}}} }^{i \in 1 .. n} }%
\ottpremise{\Gamma  \vdash  \ottnt{C_{{\mathrm{1}}}}  \,\&\, \, .. \, \,\&\,  \ottnt{C_{\ottmv{n}}}  \,\&\,  \ottnt{C}}%
\ottpremise{\ottnt{C_{{\mathrm{1}}}}  \,\&\, \, .. \, \,\&\,  \ottnt{C_{\ottmv{n}}}  \,\&\,  \ottnt{C}  \ottsym{<:}  \ottnt{A}}%
}{
\Gamma  \vdash  \ottkw{trait} \, \ottsym{[}  \mathsf{self}  \ottsym{:}  \ottnt{B}  \ottsym{]} \, \ottkw{inherits} \, \ottcomplu{\ottnt{E_{\ottmv{i}}}}{\ottmv{i}}{{\mathrm{1}}}{..}{\ottmv{n}} \, \ottsym{\{} \, \ottcomplu{\ottmv{l_{\ottmv{j}}}  \ottsym{=}  \ottnt{E'_{\ottmv{j}}}}{\ottmv{j}}{{\mathrm{1}}}{..}{\ottmv{m}} \, \ottsym{\}}  \ottsym{:}  \ottnt{A}  \Rightarrow  \ottkw{Trait} \, \ottsym{[}  \ottnt{B}  \ottsym{,}  \ottnt{A}  \ottsym{]}  \rightsquigarrow  \\ \lambda \, \ottsym{(}  \mathsf{self}  \ottsym{:}  \ottsym{\mbox{$\mid$}}  \ottnt{B}  \ottsym{\mbox{$\mid$}}  \ottsym{)}  .\,  \ottsym{(}  \ottcomplu{\ottsym{(}  \ottnt{e_{\ottmv{i}}} \, \mathsf{self}  \ottsym{)}}{\ottmv{i}}{{\mathrm{1}}}{..}{\ottmv{n}}  \ottsym{)}  \,,,\,  \ottnt{e}}{%
{\ottdrulename{Inf\_trait}}{}%
}}


\newcommand{\ottdruleInfXXforward}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{E_{{\mathrm{1}}}}  \Rightarrow  \ottkw{Trait} \, \ottsym{[}  \ottnt{A}  \ottsym{,}  \ottnt{B}  \ottsym{]}  \rightsquigarrow  \ottnt{e_{{\mathrm{1}}}}}%
\ottpremise{ \Gamma   \vdash   \ottnt{E_{{\mathrm{2}}}}   \Leftarrow   \ottnt{A}  \rulehl{ \rightsquigarrow   \ottnt{e_{{\mathrm{2}}}} } }%
}{
\Gamma  \vdash   \ottnt{E_{{\mathrm{1}}}}  \textasciicircum\,  \ottnt{E_{{\mathrm{2}}}}   \Rightarrow  \ottnt{B}  \rightsquigarrow  \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{%
{\ottdrulename{Inf\_forward}}{}%
}}

\newcommand{\ottdefninf}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{E}  \Rightarrow  \ottnt{A}  \rightsquigarrow  \ottnt{e}$}{}
\ottusedrule{\ottdruleInfXXtop{}}
\ottusedrule{\ottdruleInfXXint{}}
\ottusedrule{\ottdruleInfXXvar{}}
\ottusedrule{\ottdruleInfXXanno{}}
\ottusedrule{\ottdruleInfXXapp{}}
\ottusedrule{\ottdruleInfXXtapp{}}
\ottusedrule{\ottdruleInfXXmerge{}}
\ottusedrule{\ottdruleInfXXrec{}}
\ottusedrule{\ottdruleInfXXproj{}}
\ottusedrule{\ottdruleInfXXblam{}}
\ottusedrule{\ottdruleInfXXlete{}}
\ottusedrule{\ottdruleInfXXnew{}}
\ottusedrule{\ottdruleInfXXtrait{}}
\ottusedrule{\ottdruleInfXXforward{}}
\end{ottdefnblock}}

%% defn chk
\newcommand{\ottdruleChkXXabs}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{A}}%
\ottpremise{ \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}   \vdash   \ottnt{E}   \Leftarrow   \ottnt{B}  \rulehl{ \rightsquigarrow   \ottnt{e} } }%
}{
 \Gamma   \vdash   \lambda  \ottmv{x}  .\,  \ottnt{E}   \Leftarrow   \ottnt{A}  \rightarrow  \ottnt{B}  \rulehl{ \rightsquigarrow   \lambda  \ottmv{x}  .\,  \ottnt{e} } }{%
{\ottdrulename{Chk\_abs}}{}%
}}


\newcommand{\ottdruleChkXXsub}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{E}  \Rightarrow  \ottnt{A}  \rightsquigarrow  \ottnt{e}}%
\ottpremise{\ottnt{A}  \ottsym{<:}  \ottnt{B}}%
\ottpremise{\Gamma  \vdash  \ottnt{B}}%
}{
 \Gamma   \vdash   \ottnt{E}   \Leftarrow   \ottnt{B}  \rulehl{ \rightsquigarrow   \ottnt{e} } }{%
{\ottdrulename{Chk\_sub}}{}%
}}

\newcommand{\ottdefnchk}[1]{\begin{ottdefnblock}[#1]{$ \Gamma   \vdash   \ottnt{E}   \Leftarrow   \ottnt{A}  \rulehl{ \rightsquigarrow   \ottnt{e} } $}{\ottcom{Source bidirectional typechecking}}
\ottusedrule{\ottdruleChkXXabs{}}
\ottusedrule{\ottdruleChkXXsub{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsJSTyping}{
\ottdefninf{}\ottdefnchk{}}

% defns JTyping
%% defn infer
\newcommand{\ottdruleTIXXtop}[1]{\ottdrule[#1]{%
}{
\Delta  \vdash  \top  \Rightarrow  \top}{%
{\ottdrulename{TI\_top}}{}%
}}


\newcommand{\ottdruleTIXXint}[1]{\ottdrule[#1]{%
}{
\Delta  \vdash  i  \Rightarrow  \mathsf{Int}}{%
{\ottdrulename{TI\_int}}{}%
}}


\newcommand{\ottdruleTIXXvar}[1]{\ottdrule[#1]{%
\ottpremise{ \ottmv{x}  :  \tau  \in  \Delta }%
}{
\Delta  \vdash  \ottmv{x}  \Rightarrow  \tau}{%
{\ottdrulename{TI\_var}}{}%
}}


\newcommand{\ottdruleTIXXanno}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \ottnt{e}  \Leftarrow  \tau}%
}{
\Delta  \vdash  \ottnt{e}  \ottsym{:}  \tau  \Rightarrow  \tau}{%
{\ottdrulename{TI\_anno}}{}%
}}


\newcommand{\ottdruleTIXXapp}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \ottnt{e_{{\mathrm{1}}}}  \Rightarrow  \tau_{{\mathrm{1}}}  \rightarrow  \tau_{{\mathrm{2}}}}%
\ottpremise{\Delta  \vdash  \ottnt{e_{{\mathrm{2}}}}  \Leftarrow  \tau_{{\mathrm{1}}}}%
}{
\Delta  \vdash  \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}  \Rightarrow  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{TI\_app}}{}%
}}


\newcommand{\ottdruleTIXXtapp}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \ottnt{e}  \Rightarrow  \forall \, \ottsym{(}  \alpha  *  \sigma  \ottsym{)}  .\,  \tau'}%
\ottpremise{\Delta  \vdash  \tau}%
\ottpremise{\Delta  \vdash  \tau  *  \sigma}%
}{
\Delta  \vdash  \ottnt{e} \, \tau  \Rightarrow   [  \tau  /  \alpha  ]  \tau' }{%
{\ottdrulename{TI\_tapp}}{}%
}}


\newcommand{\ottdruleTIXXmerge}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \ottnt{e_{{\mathrm{1}}}}  \Rightarrow  \tau}%
\ottpremise{\Delta  \vdash  \ottnt{e_{{\mathrm{2}}}}  \Rightarrow  \sigma}%
\ottpremise{\Delta  \vdash  \tau  *  \sigma}%
}{
\Delta  \vdash  \ottnt{e_{{\mathrm{1}}}}  \,,,\,  \ottnt{e_{{\mathrm{2}}}}  \Rightarrow  \tau  \,\&\,  \sigma}{%
{\ottdrulename{TI\_merge}}{}%
}}


\newcommand{\ottdruleTIXXrec}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \ottnt{e}  \Rightarrow  \tau}%
}{
\Delta  \vdash  \ottsym{\{}  \ottmv{l}  \ottsym{=}  \ottnt{e}  \ottsym{\}}  \Rightarrow  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \tau  \ottsym{\}}}{%
{\ottdrulename{TI\_rec}}{}%
}}


\newcommand{\ottdruleTIXXproj}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \ottnt{e}  \Rightarrow  \ottsym{\{}  \ottmv{l}  \ottsym{:}  \tau  \ottsym{\}}}%
}{
\Delta  \vdash  \ottnt{e}  .\,  \ottmv{l}  \Rightarrow  \tau}{%
{\ottdrulename{TI\_proj}}{}%
}}


\newcommand{\ottdruleTIXXblam}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \tau}%
\ottpremise{\Delta  \ottsym{,}  \alpha  *  \tau  \vdash  \ottnt{e}  \Rightarrow  \sigma}%
}{
\Delta  \vdash  \Lambda \, \ottsym{(}  \alpha  *  \tau  \ottsym{)}  .\,  \ottnt{e}  \Rightarrow  \forall \, \ottsym{(}  \alpha  *  \tau  \ottsym{)}  .\,  \sigma}{%
{\ottdrulename{TI\_blam}}{}%
}}


\newcommand{\ottdruleTIXXlete}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau  \vdash  \ottnt{e_{{\mathrm{1}}}}  \Leftarrow  \tau}%
\ottpremise{\Delta  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau  \vdash  \ottnt{e_{{\mathrm{2}}}}  \Rightarrow  \sigma}%
}{
\Delta  \vdash  \ottkw{letrec} \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{=}  \ottnt{e_{{\mathrm{1}}}} \, \ottkw{in} \, \ottnt{e_{{\mathrm{2}}}}  \Rightarrow  \sigma}{%
{\ottdrulename{TI\_lete}}{}%
}}

\newcommand{\ottdefninfer}[1]{\begin{ottdefnblock}[#1]{$\Delta  \vdash  \ottnt{e}  \Rightarrow  \tau$}{}
\ottusedrule{\ottdruleTIXXtop{}}
\ottusedrule{\ottdruleTIXXint{}}
\ottusedrule{\ottdruleTIXXvar{}}
\ottusedrule{\ottdruleTIXXanno{}}
\ottusedrule{\ottdruleTIXXapp{}}
\ottusedrule{\ottdruleTIXXtapp{}}
\ottusedrule{\ottdruleTIXXmerge{}}
\ottusedrule{\ottdruleTIXXrec{}}
\ottusedrule{\ottdruleTIXXproj{}}
\ottusedrule{\ottdruleTIXXblam{}}
\ottusedrule{\ottdruleTIXXlete{}}
\end{ottdefnblock}}

%% defn tchk
\newcommand{\ottdruleTCXXabs}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \tau}%
\ottpremise{\Delta  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau  \vdash  \ottnt{e}  \Leftarrow  \sigma}%
}{
\Delta  \vdash  \lambda  \ottmv{x}  .\,  \ottnt{e}  \Leftarrow  \tau  \rightarrow  \sigma}{%
{\ottdrulename{TC\_abs}}{}%
}}


\newcommand{\ottdruleTCXXsub}[1]{\ottdrule[#1]{%
\ottpremise{\Delta  \vdash  \ottnt{e}  \Rightarrow  \tau}%
\ottpremise{\tau  \ottsym{<:}  \sigma}%
\ottpremise{\Delta  \vdash  \sigma}%
}{
\Delta  \vdash  \ottnt{e}  \Leftarrow  \sigma}{%
{\ottdrulename{TC\_sub}}{}%
}}

\newcommand{\ottdefntchk}[1]{\begin{ottdefnblock}[#1]{$\Delta  \vdash  \ottnt{e}  \Leftarrow  \tau$}{}
\ottusedrule{\ottdruleTCXXabs{}}
\ottusedrule{\ottdruleTCXXsub{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsJTyping}{
\ottdefninfer{}\ottdefntchk{}}

\newcommand{\ottdefnss}{
\ottdefnsJWF
\ottdefnsDisjoint
\ottdefnsDis
\ottdefnsSubtyping
\ottdefnsJSTyping
\ottdefnsJTyping
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

